{"/home/yisroel/projects/movieBuff/src/filmInfo.ts":{"path":"/home/yisroel/projects/movieBuff/src/filmInfo.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":42}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":46}},"4":{"start":{"line":7,"column":4},"end":{"line":22,"column":5}},"5":{"start":{"line":8,"column":23},"end":{"line":10,"column":10}},"6":{"start":{"line":11,"column":32},"end":{"line":11,"column":69}},"7":{"start":{"line":12,"column":8},"end":{"line":15,"column":10}},"8":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"9":{"start":{"line":19,"column":12},"end":{"line":19,"column":31}},"10":{"start":{"line":21,"column":8},"end":{"line":21,"column":61}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":23}},"12":{"start":{"line":25,"column":0},"end":{"line":25,"column":28}}},"fnMap":{"0":{"name":"filmInfo","decl":{"start":{"line":5,"column":15},"end":{"line":5,"column":23}},"loc":{"start":{"line":5,"column":40},"end":{"line":24,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},{"start":{"line":18,"column":8},"end":{"line":20,"column":9}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":3,"4":3,"5":3,"6":1,"7":1,"8":2,"9":1,"10":1,"11":1,"12":1},"f":{"0":3},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/yisroel/projects/movieBuff/src/filmInfo.ts","sources":["/home/yisroel/projects/movieBuff/src/filmInfo.ts"],"names":[],"mappings":";;;AACA,2CAAsC;AAG/B,KAAK,UAAU,QAAQ,CAAC,KAAa,EAAE,OAAgB;IAE1D,IAAI,WAAW,GAAQ,EAAC,OAAO,EAAC,EAAE,EAAE,IAAI,EAAE,CAAC,EAAC,CAAA;IAC5C,IAAI;QACA,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,GAAG,CAC5B,qBAAS,EACT;YACI,KAAK;SACR,CAAC,CAAA;QAEN,MAAM,eAAe,GACjB,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,UAAU,CAAA;QAEzC,WAAW,GAAG;YACV,OAAO,EAAE,eAAe,CAAC,OAAO;YAChC,IAAI,EAAE,eAAe,CAAC,QAAQ,CAAC,GAAG;SACrC,CAAA;KAEJ;IAAC,OAAO,KAAK,EAAE;QACZ,IAAI,KAAK,CAAC,IAAI,KAAG,WAAW,EAAE;YAC1B,OAAO,WAAW,CAAA;SACrB;QACD,MAAM,IAAI,KAAK,CAAC,4BAA4B,KAAK,EAAE,CAAC,CAAA;KACvD;IAED,OAAO,WAAW,CAAA;AACtB,CAAC;AA1BD,4BA0BC","sourcesContent":["import {Session} from \"neo4j-driver\";\nimport {filmQuery} from \"./filmQuery\";\nimport {FilmFacts} from \"./FilmFacts\";\n\nexport async function filmInfo(title: string, session: Session):\n    Promise<FilmFacts> {\n    let returnValue: any = {tagline:'', year: 0}\n    try {\n        const result = await session.run(\n            filmQuery,\n            {\n                title,\n            })\n\n        const movieProperties =\n            result.records[0].get('m').properties\n\n        returnValue = {\n            tagline: movieProperties.tagline,\n            year: movieProperties.released.low\n        }\n\n    } catch (error) {\n        if (error.name==='TypeError') {\n            return returnValue\n        }\n        throw new Error(`error getting film info: ${error}`)\n    }\n\n    return returnValue\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7844031825722a1e929f7af61af290f147deb2cb","contentHash":"88693f0e2f1c0e405b5bcd345833a52b978ca92d4b8d8eaf87425fa5eb59aa0a"},"/home/yisroel/projects/movieBuff/src/filmQuery.ts":{"path":"/home/yisroel/projects/movieBuff/src/filmQuery.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/yisroel/projects/movieBuff/src/filmQuery.ts","sources":["/home/yisroel/projects/movieBuff/src/filmQuery.ts"],"names":[],"mappings":";;;AAAa,QAAA,SAAS,GAAG;;CAExB,CAAA","sourcesContent":["export const filmQuery = `\nmatch (m:Movie {title:$title}) return m\n`\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa60874b9f59db40f5f0014e432702b02454761d","contentHash":"c4155ef5e26c0a629f5d4ed9152f02ff6b80f8287ba3b14dbaf65fd6d1c0140e"}}