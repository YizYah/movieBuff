{"/home/yisroel/projects/movieBuff/src/interactiveGetFilmInfo.ts":{"path":"/home/yisroel/projects/movieBuff/src/interactiveGetFilmInfo.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"2":{"start":{"line":5,"column":22},"end":{"line":5,"column":46}},"3":{"start":{"line":6,"column":23},"end":{"line":6,"column":46}},"4":{"start":{"line":8,"column":4},"end":{"line":10,"column":39}},"5":{"start":{"line":13,"column":20},"end":{"line":13,"column":32}},"6":{"start":{"line":14,"column":18},"end":{"line":14,"column":51}},"7":{"start":{"line":15,"column":25},"end":{"line":15,"column":46}},"8":{"start":{"line":16,"column":22},"end":{"line":16,"column":52}},"9":{"start":{"line":17,"column":4},"end":{"line":21,"column":5}},"10":{"start":{"line":19,"column":8},"end":{"line":19,"column":68}},"11":{"start":{"line":20,"column":8},"end":{"line":20,"column":15}},"12":{"start":{"line":23,"column":4},"end":{"line":23,"column":48}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":56}}},"fnMap":{"0":{"name":"prettyOutput","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":40},"end":{"line":11,"column":1}},"line":7},"1":{"name":"interactiveGetFilmInfo","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":37}},"loc":{"start":{"line":12,"column":40},"end":{"line":24,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":4},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":21,"column":5}},{"start":{"line":17,"column":4},"end":{"line":21,"column":5}}],"line":17},"1":{"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":56}},"type":"binary-expr","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":28}},{"start":{"line":17,"column":32},"end":{"line":17,"column":56}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":2,"8":2,"9":2,"10":1,"11":1,"12":1,"13":1},"f":{"0":1,"1":2},"b":{"0":[1,1],"1":[2,1]},"inputSourceMap":{"version":3,"file":"/home/yisroel/projects/movieBuff/src/interactiveGetFilmInfo.ts","sources":["/home/yisroel/projects/movieBuff/src/interactiveGetFilmInfo.ts"],"names":[],"mappings":";;;AAAA,uCAAuC;AACvC,+CAA0C;AAI1C,MAAM,EAAC,UAAU,EAAC,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAE7C,SAAS,YAAY,CAAC,KAAa,EAAE,SAAoB;IACrD,OAAO,+BAA+B,KAAK;eAChC,SAAS,CAAC,OAAO;qBACX,SAAS,CAAC,IAAI,GAAG,CAAC;AACvC,CAAC;AAEM,KAAK,UAAU,sBAAsB;IACxC,MAAM,OAAO,GAAY,UAAU,EAAE,CAAA;IACrC,MAAM,KAAK,GAAG,MAAM,yBAAW,EAAE,CAAA;IAEjC,MAAM,EAAC,QAAQ,EAAC,GAAG,OAAO,CAAC,YAAY,CAAC,CAAE;IAC1C,MAAM,SAAS,GAAc,MAAM,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAE5D,IAAI,SAAS,CAAC,IAAI,KAAK,CAAC,IAAI,SAAS,CAAC,OAAO,KAAK,EAAE,EAAE;QAClD,sCAAsC;QACtC,OAAO,CAAC,GAAG,CAAC,qCAAqC,KAAK,IAAI,CAAC,CAAA;QAC3D,OAAM;KACT;IACD,sCAAsC;IACtC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAA;AAC/C,CAAC;AAdD,wDAcC","sourcesContent":["// import {filmInfo} from \"./filmInfo\";\nimport {getFilmName} from \"./getFilmName\";\nimport {Session} from \"neo4j-driver\";\nimport {FilmFacts} from \"./FilmFacts\";\n\nconst {getSession} = require(\"./getSession\");\n\nfunction prettyOutput(title: string, filmFacts: FilmFacts) {\n    return `Here's info about the film '${title}':\n    tagline: ${filmFacts.tagline}.\n    year released: ${filmFacts.year}.`;\n}\n\nexport async function interactiveGetFilmInfo() {\n    const session: Session = getSession()\n    const title = await getFilmName()\n\n    const {filmInfo} = require(\"./filmInfo\") ;\n    const filmFacts: FilmFacts = await filmInfo(title, session);\n\n    if (filmFacts.year === 0 && filmFacts.tagline === '') {\n        // eslint-disable-next-line no-console\n        console.log(`No info is stored about the film '${title}'.`)\n        return\n    }\n    // eslint-disable-next-line no-console\n    console.log(prettyOutput(title, filmFacts))\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b09f8b9f9b915f3aac0d8e7017df67cbb65d29af","contentHash":"b264178f986d70e965918b060da220768c7762bf1e2abb9c6cfcf90d69f41478"},"/home/yisroel/projects/movieBuff/src/getFilmName.ts":{"path":"/home/yisroel/projects/movieBuff/src/getFilmName.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":36}},"3":{"start":{"line":6,"column":22},"end":{"line":9,"column":10}},"4":{"start":{"line":10,"column":20},"end":{"line":10,"column":52}},"5":{"start":{"line":11,"column":4},"end":{"line":11,"column":24}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}}},"fnMap":{"0":{"name":"getFilmName","decl":{"start":{"line":5,"column":15},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":29},"end":{"line":12,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/yisroel/projects/movieBuff/src/getFilmName.ts","sources":["/home/yisroel/projects/movieBuff/src/getFilmName.ts"],"names":[],"mappings":";;;AAAA,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAE7B,KAAK,UAAU,WAAW;IAC7B,MAAM,SAAS,GAAG,CAAC;YACf,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,yCAAyC;SACrD,CAAC,CAAA;IACF,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;IAChD,OAAO,OAAO,CAAC,IAAI,CAAA;AACvB,CAAC;AAPD,kCAOC","sourcesContent":["const inquirer = require('inquirer')\n\nexport async function getFilmName(): Promise<string> {\n    const questions = [{\n        name: 'Film',\n        message: 'What film would you like to know about?',\n    }]\n    const answers = await inquirer.prompt(questions)\n    return answers.Film\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1e1f317a0cfe7f05f2c7c3f6ee31fa557d4b8e3b","contentHash":"aa842a48a14e17e47c48ae62767067b3e22869b13c1810429be43683aaf1a871"},"/home/yisroel/projects/movieBuff/src/getSession.ts":{"path":"/home/yisroel/projects/movieBuff/src/getSession.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"3":{"start":{"line":5,"column":14},"end":{"line":5,"column":37}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":111}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":62}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":32}}},"fnMap":{"0":{"name":"getSession","decl":{"start":{"line":6,"column":9},"end":{"line":6,"column":19}},"loc":{"start":{"line":6,"column":22},"end":{"line":9,"column":1}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/yisroel/projects/movieBuff/src/getSession.ts","sources":["/home/yisroel/projects/movieBuff/src/getSession.ts"],"names":[],"mappings":";;;AAAA,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAA;AAE1B,MAAM,KAAK,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAEtC,SAAgB,UAAU;IACtB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CACvB,OAAO,CAAC,GAAG,CAAC,GAAG,EACf,KAAK,CAAC,IAAI,CAAC,KAAK,CACZ,OAAO,CAAC,GAAG,CAAC,SAAS,EACrB,OAAO,CAAC,GAAG,CAAC,QAAQ,CACvB,CACJ,CAAC;IACF,OAAO,MAAM,CAAC,OAAO,CAAC,EAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAC,CAAC,CAAA;AAC3D,CAAC;AATD,gCASC","sourcesContent":["require('dotenv').config()\n\nconst neo4j = require('neo4j-driver');\n\nexport function getSession() {\n    const driver = neo4j.driver(\n        process.env.URI,\n        neo4j.auth.basic(\n            process.env.USER_NAME,\n            process.env.PASSWORD\n        )\n    );\n    return driver.session({database: process.env.DATABASE})\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"47c250584c9b729b78f6b00e933845951fd45413","contentHash":"3ce4466bf9c0ba38f75139abd63d601f180524f9d34ca6d3c1d9882d6021858b"},"/home/yisroel/projects/movieBuff/src/filmInfo.ts":{"path":"/home/yisroel/projects/movieBuff/src/filmInfo.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":42}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":46}},"4":{"start":{"line":7,"column":4},"end":{"line":22,"column":5}},"5":{"start":{"line":8,"column":23},"end":{"line":10,"column":10}},"6":{"start":{"line":11,"column":32},"end":{"line":11,"column":69}},"7":{"start":{"line":12,"column":8},"end":{"line":15,"column":10}},"8":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"9":{"start":{"line":19,"column":12},"end":{"line":19,"column":31}},"10":{"start":{"line":21,"column":8},"end":{"line":21,"column":61}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":23}},"12":{"start":{"line":25,"column":0},"end":{"line":25,"column":28}}},"fnMap":{"0":{"name":"filmInfo","decl":{"start":{"line":5,"column":15},"end":{"line":5,"column":23}},"loc":{"start":{"line":5,"column":40},"end":{"line":24,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},{"start":{"line":18,"column":8},"end":{"line":20,"column":9}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"/home/yisroel/projects/movieBuff/src/filmInfo.ts","sources":["/home/yisroel/projects/movieBuff/src/filmInfo.ts"],"names":[],"mappings":";;;AACA,2CAAsC;AAG/B,KAAK,UAAU,QAAQ,CAAC,KAAa,EAAE,OAAgB;IAE1D,IAAI,WAAW,GAAQ,EAAC,OAAO,EAAC,EAAE,EAAE,IAAI,EAAE,CAAC,EAAC,CAAA;IAC5C,IAAI;QACA,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,GAAG,CAC5B,qBAAS,EACT;YACI,KAAK;SACR,CAAC,CAAA;QAEN,MAAM,eAAe,GACjB,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,UAAU,CAAA;QAEzC,WAAW,GAAG;YACV,OAAO,EAAE,eAAe,CAAC,OAAO;YAChC,IAAI,EAAE,eAAe,CAAC,QAAQ,CAAC,GAAG;SACrC,CAAA;KAEJ;IAAC,OAAO,KAAK,EAAE;QACZ,IAAI,KAAK,CAAC,IAAI,KAAG,WAAW,EAAE;YAC1B,OAAO,WAAW,CAAA;SACrB;QACD,MAAM,IAAI,KAAK,CAAC,4BAA4B,KAAK,EAAE,CAAC,CAAA;KACvD;IAED,OAAO,WAAW,CAAA;AACtB,CAAC;AA1BD,4BA0BC","sourcesContent":["import {Session} from \"neo4j-driver\";\nimport {filmQuery} from \"./filmQuery\";\nimport {FilmFacts} from \"./FilmFacts\";\n\nexport async function filmInfo(title: string, session: Session):\n    Promise<FilmFacts> {\n    let returnValue: any = {tagline:'', year: 0}\n    try {\n        const result = await session.run(\n            filmQuery,\n            {\n                title,\n            })\n\n        const movieProperties =\n            result.records[0].get('m').properties\n\n        returnValue = {\n            tagline: movieProperties.tagline,\n            year: movieProperties.released.low\n        }\n\n    } catch (error) {\n        if (error.name==='TypeError') {\n            return returnValue\n        }\n        throw new Error(`error getting film info: ${error}`)\n    }\n\n    return returnValue\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7844031825722a1e929f7af61af290f147deb2cb","contentHash":"88693f0e2f1c0e405b5bcd345833a52b978ca92d4b8d8eaf87425fa5eb59aa0a"},"/home/yisroel/projects/movieBuff/src/filmQuery.ts":{"path":"/home/yisroel/projects/movieBuff/src/filmQuery.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/yisroel/projects/movieBuff/src/filmQuery.ts","sources":["/home/yisroel/projects/movieBuff/src/filmQuery.ts"],"names":[],"mappings":";;;AAAa,QAAA,SAAS,GAAG;;CAExB,CAAA","sourcesContent":["export const filmQuery = `\nmatch (m:Movie {title:$title}) return m\n`\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa60874b9f59db40f5f0014e432702b02454761d","contentHash":"c4155ef5e26c0a629f5d4ed9152f02ff6b80f8287ba3b14dbaf65fd6d1c0140e"}}